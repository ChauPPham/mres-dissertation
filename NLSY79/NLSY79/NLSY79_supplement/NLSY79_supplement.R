
# Set working directory
# setwd()


new_data <- read.table('NLSY79_supplement.dat', sep=' ')
names(new_data) <- c('R0000100',
'R0173600',
'R0214700',
'R0214800',
'T3094800',
'T3094900',
'T3094901',
'T3094902',
'T3094903',
'T3094904',
'T3094905',
'T3094906',
'T4093500',
'T4093900',
'T4094000',
'T4094001',
'T4094002',
'T4094003',
'T4094004',
'T4094005',
'T4094006',
'T4998700',
'T4999100',
'T4999200',
'T4999201',
'T4999202',
'T4999203',
'T4999204',
'T4999205',
'T4999206')


# Handle missing values

new_data[new_data == -1] = NA  # Refused
new_data[new_data == -2] = NA  # Dont know
new_data[new_data == -3] = NA  # Invalid missing
new_data[new_data == -4] = NA  # Valid missing
new_data[new_data == -5] = NA  # Non-interview


# If there are values not categorized they will be represented as NA

vallabels = function(data) {
  data$R0173600 <- factor(data$R0173600,
levels=c(1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0),
labels=c("CROSS MALE WHITE",
"CROSS MALE WH. POOR",
"CROSS MALE BLACK",
"CROSS MALE HISPANIC",
"CROSS FEMALE WHITE",
"CROSS FEMALE WH POOR",
"CROSS FEMALE BLACK",
"CROSS FEMALE HISPANIC",
"SUP MALE WH POOR",
"SUP MALE BLACK",
"SUP MALE HISPANIC",
"SUP FEM WH POOR",
"SUP FEMALE BLACK",
"SUP FEMALE HISPANIC",
"MIL MALE WHITE",
"MIL MALE BLACK",
"MIL MALE HISPANIC",
"MIL FEMALE WHITE",
"MIL FEMALE BLACK",
"MIL FEMALE HISPANIC"))
  data$R0214700 <- factor(data$R0214700,
levels=c(1.0,2.0,3.0),
labels=c("HISPANIC",
"BLACK",
"NON-BLACK, NON-HISPANIC"))
  data$R0214800 <- factor(data$R0214800,
levels=c(1.0,2.0),
labels=c("MALE",
"FEMALE"))
  data$T3094900 <- factor(data$T3094900,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10"))
  data$T3094901 <- factor(data$T3094901,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10"))
  data$T3094902 <- factor(data$T3094902,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10"))
  data$T3094903 <- factor(data$T3094903,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10"))
  data$T3094904 <- factor(data$T3094904,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10"))
  data$T3094905 <- factor(data$T3094905,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10"))
  data$T3094906 <- factor(data$T3094906,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10"))
  data$T4093500 <- factor(data$T4093500,
levels=c(0.0,1.0),
labels=c("0: 0  CONDITION DOES NOT APPLY",
"1: 1  CONDITION APPLIES"))
  data$T4094000 <- factor(data$T4094000,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10"))
  data$T4094001 <- factor(data$T4094001,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10"))
  data$T4094002 <- factor(data$T4094002,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10"))
  data$T4094003 <- factor(data$T4094003,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10"))
  data$T4094004 <- factor(data$T4094004,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10"))
  data$T4094005 <- factor(data$T4094005,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10"))
  data$T4094006 <- factor(data$T4094006,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10"))
  data$T4998700 <- factor(data$T4998700,
levels=c(0.0,1.0),
labels=c("0: 0  CONDITION DOES NOT APPLY",
"1: 1  CONDITION APPLIES"))
  data$T4999200 <- factor(data$T4999200,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10"))
  data$T4999201 <- factor(data$T4999201,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10"))
  data$T4999202 <- factor(data$T4999202,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10"))
  data$T4999203 <- factor(data$T4999203,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10"))
  data$T4999204 <- factor(data$T4999204,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10"))
  data$T4999205 <- factor(data$T4999205,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10"))
  data$T4999206 <- factor(data$T4999206,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10"))
return(data)
}


# If there are values not categorized they will be represented as NA

vallabels_continuous = function(data) {
data$T3094800[10.0 <= data$T3094800 & data$T3094800 <= 9999.0] <- 10.0
data$T3094800 <- factor(data$T3094800,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10 TO 9999: 10+"))
data$T4093900[10.0 <= data$T4093900 & data$T4093900 <= 9999.0] <- 10.0
data$T4093900 <- factor(data$T4093900,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10 TO 9999: 10+"))
data$T4999100[10.0 <= data$T4999100 & data$T4999100 <= 9999.0] <- 10.0
data$T4999100 <- factor(data$T4999100,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10 TO 9999: 10+"))
return(data)
}

varlabels <- c("ID# (1-12686) 79",
"SAMPLE ID  79 INT",
"RACL/ETHNIC COHORT /SCRNR 79",
"SEX OF R 79",
"R IS RISK-AVERSE OR RISK-TAKING 2010",
"WILLINGNESS TO TAKE RISKS WHILE DRIVING 2010",
"WILLINGNESS TO TAKE RISKS IN FINANCIAL MATTERS 2010",
"WILLINGNESS TO TAKE RISKS IN R OCCUPATION 2010",
"WILLINGNESS TO TAKE RISKS WITH R HEALTH 2010",
"WILLINGNESS TO TAKE RISKS IN R FAITH IN OTHER PP 2010",
"WILLINGNESS TO TAKE RISKS IN R ROMANTIC RE 2010",
"WILLINGNESS TO TAKE RISKS IN MAKING MJ LF CHANGES 2010",
"R INTERVIEWED IN 2010? 2012",
"R IS RISK-AVERSE OR RISK-TAKING 2012",
"WILLINGNESS TO TAKE RISKS WHILE DRIVING 2012",
"WILLINGNESS TO TAKE RISKS IN FINANCIAL MATTERS 2012",
"WILLINGNESS TO TAKE RISKS IN R OCCUPATION 2012",
"WILLINGNESS TO TAKE RISKS WITH R HEALTH 2012",
"WILLINGNESS TO TAKE RISKS IN R FAITH IN OTHER PP 2012",
"WILLINGNESS TO TAKE RISKS IN R ROMANTIC RE 2012",
"WILLINGNESS TO TAKE RISKS IN MAKING MJ LF CHANGES 2012",
"R INTERVIEWED IN OR AFTER 2010? 2014",
"R IS RISK-AVERSE OR RISK-TAKING 2014",
"WILLINGNESS TO TAKE RISKS WHILE DRIVING 2014",
"WILLINGNESS TO TAKE RISKS IN FINANCIAL MATTERS 2014",
"WILLINGNESS TO TAKE RISKS IN R OCCUPATION 2014",
"WILLINGNESS TO TAKE RISKS WITH R HEALTH 2014",
"WILLINGNESS TO TAKE RISKS IN R FAITH IN OTHER PP 2014",
"WILLINGNESS TO TAKE RISKS IN R ROMANTIC RE 2014",
"WILLINGNESS TO TAKE RISKS IN MAKING MJ LF CHANGES 2014"
)


# Use qnames rather than rnums

qnames = function(data) {
names(data) <- c("CASEID_1979",
"SAMPLE_ID_1979",
"SAMPLE_RACE_78SCRN",
"SAMPLE_SEX_1979",
"RISK_4_2010",
"RISK_5~000001_2010",
"RISK_5~000002_2010",
"RISK_5~000003_2010",
"RISK_5~000004_2010",
"RISK_5~000005_2010",
"RISK_5~000006_2010",
"RISK_5~000007_2010",
"RISK_LINT_2012",
"RISK_4_2012",
"RISK_5~000001_2012",
"RISK_5~000002_2012",
"RISK_5~000003_2012",
"RISK_5~000004_2012",
"RISK_5~000005_2012",
"RISK_5~000006_2012",
"RISK_5~000007_2012",
"RISK_LINT_2014",
"RISK_4_2014",
"RISK_5~000001_2014",
"RISK_5~000002_2014",
"RISK_5~000003_2014",
"RISK_5~000004_2014",
"RISK_5~000005_2014",
"RISK_5~000006_2014",
"RISK_5~000007_2014")
return(data)
}


#********************************************************************************************************

# Remove the '#' before the following line to create a data file called "categories" with value labels.
#categories <- vallabels(new_data)

# Remove the '#' before the following lines to rename variables using Qnames instead of Reference Numbers
#new_data <- qnames(new_data)
#categories <- qnames(categories)

# Produce summaries for the raw (uncategorized) data file
summary(new_data)

# Remove the '#' before the following lines to produce summaries for the "categories" data file.
#categories <- vallabels(new_data)
#categories <- vallabels_continuous(new_data)
#summary(categories)

#************************************************************************************************************

